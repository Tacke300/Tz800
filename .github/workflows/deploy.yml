name: Auto Deploy to VPS

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Deploy code to VPS via SSH
        uses: appleboy/ssh-action@v1.0.0
        with:
          host: 34.145.69.100             # Địa chỉ IP VPS của bạn
          username: tacke300              # Tên user trên VPS (nên là user có quyền SSH và git pull)
          key: ${{ secrets.VPS_KEY }}     # Private key, đã thêm vào GitHub Secrets
          script: |
            cd ~/fundingbot              # Đường dẫn tới thư mục chứa project trên VPS
            git pull origin main         # Kéo code mới nhất
            # systemctl restart fundingbot.service  # (Nếu cần restart service sau khi deploy)
